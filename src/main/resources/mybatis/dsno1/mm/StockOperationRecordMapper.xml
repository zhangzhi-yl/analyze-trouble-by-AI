<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.yy.mapper.dsno1.mm.StockOperationRecordMapper">
	
	<!--表名 -->
	<sql id="tableName">
		MM_StockOperationRecord
	</sql>
	
	<!--数据字典表名 -->
	<sql id="dicTableName">
		SYS_DICTIONARIES
	</sql>
	
	<!-- 字段 -->
	<sql id="Field">
		f.StockOperationRecord_ID,	
		f.Stock_ID,	
		f.SourceRowNum,	
		f.TransferType,	
		f.FStatus,	
		f.DataSources,	
		f.MaterialRequisitionID,	
		f.MTA_ID,	
		f.PlannedWorkOrderNum,	
		f.MaterialNum,	
		f.MaterialName,	
		f.SProp,	
		f.SPropKey,	
		f.DemandQuantity,	
		f.ActualCount,	
		f.WarehouseID,	
		f.PositionID,	
		f.DemandTime,	
		f.DateBatch,	
		f.WP,	
		f.TType,	
		f.FCreatePersonID,	
		f.FCreateTime,
		f.ItemID
	</sql>
	
	<!-- 字段用于新增 -->
	<sql id="Field2">
		StockOperationRecord_ID,	
		Stock_ID,	
		SourceRowNum,	
		TransferType,	
		FStatus,	
		DataSources,	
		MaterialRequisitionID,	
		MTA_ID,	
		PlannedWorkOrderNum,	
		MaterialNum,	
		MaterialName,	
		SProp,	
		SPropKey,	
		DemandQuantity,	
		ActualCount,	
		WarehouseID,	
		PositionID,	
		DemandTime,	
		DateBatch,	
		WP,	
		TType,	
		FCreatePersonID,	
		FCreateTime,
		ItemID
	</sql>
	
	<!-- 字段值 -->
	<sql id="FieldValue">
		#{StockOperationRecord_ID},	
		#{Stock_ID},	
		#{SourceRowNum},	
		#{TransferType},	
		#{FStatus},	
		#{DataSources},	
		#{MaterialRequisitionID},	
		#{MTA_ID},	
		#{PlannedWorkOrderNum},	
		#{MaterialNum},	
		#{MaterialName},	
		#{SProp},	
		#{SPropKey},	
		#{DemandQuantity},	
		#{ActualCount},	
		#{WarehouseID},	
		#{PositionID},	
		#{DemandTime},	
		#{DateBatch},	
		#{WP},	
		#{TType},	
		#{FCreatePersonID},	
		#{FCreateTime},
		#{ItemID}
	</sql>
	
	<!-- 新增-->
	<insert id="save" parameterType="pd">
		insert into 
	<include refid="tableName"></include>
		(
	<include refid="Field2"></include>
		) values (
	<include refid="FieldValue"></include>
		)
	</insert>
	
	<!-- 删除-->
	<delete id="delete" parameterType="pd">
		delete from
		<include refid="tableName"></include>
		where 
			StockOperationRecord_ID = #{StockOperationRecord_ID}
	</delete>
	
	<!-- 修改 -->
	<update id="edit" parameterType="pd">
		update
		<include refid="tableName"></include>
		set 
			Stock_ID = #{Stock_ID},	
			SourceRowNum = #{SourceRowNum},	
			TransferType = #{TransferType},	
			FStatus = #{FStatus},	
			DataSources = #{DataSources},	
			MaterialRequisitionID = #{MaterialRequisitionID},	
			MTA_ID = #{MTA_ID},	
			PlannedWorkOrderNum = #{PlannedWorkOrderNum},	
			MaterialNum = #{MaterialNum},	
			MaterialName = #{MaterialName},	
			SProp = #{SProp},	
			SPropKey = #{SPropKey},	
			DemandQuantity = #{DemandQuantity},	
			ActualCount = #{ActualCount},	
			WarehouseID = #{WarehouseID},	
			PositionID = #{PositionID},	
			DemandTime = #{DemandTime},	
			DateBatch = #{DateBatch},	
			WP = #{WP},	
			TType = #{TType},	
			FCreatePersonID = #{FCreatePersonID},	
			FCreateTime = #{FCreateTime},
			ItemID = #{ItemID}
		where 
			StockOperationRecord_ID = #{StockOperationRecord_ID}
	</update>
	
	<!-- 通过ID获取数据 -->
	<select id="findById" parameterType="pd" resultType="pd">
		select 
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 
			f.StockOperationRecord_ID = #{StockOperationRecord_ID}
	</select>
	
	<!-- 列表 -->
	<select id="datalistPage" parameterType="page" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f 
		where 1=1
		<if test="pd.KEYWORDS != null and pd.KEYWORDS != ''"><!-- 关键词检索 -->
			and
				(
					f.MaterialName LIKE '%'+ #{pd.KEYWORDS}+'%'
					 or 
					f.MaterialNum LIKE '%'+ #{pd.KEYWORDS}+'%' 
				)
		</if>
	</select>
	
	<!-- 列表(全部) -->
	<select id="listAll" parameterType="pd" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
	</select>
	
	<!-- 批量删除 -->
	<delete id="deleteAll" parameterType="String">
		delete from
		<include refid="tableName"></include>
		where 
			StockOperationRecord_ID in
		<foreach item="item" index="index" collection="array" open="(" separator="," close=")">
                 #{item}
		</foreach>
	</delete>
	
	<!-- yy356703572qq(彬耶) -->
</mapper>