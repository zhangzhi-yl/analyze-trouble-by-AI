<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.yy.mapper.dsno1.mm.CallMaterialDetailsMapper">
	
	<!--表名 -->
	<sql id="tableName">
		MM_CallMaterialDetails
	</sql>
	
	<!--数据字典表名 -->
	<sql id="dicTableName">
		SYS_DICTIONARIES
	</sql>
	
	<!-- 字段 -->
	<sql id="Field">
		f.CallMaterial_ID,	
		f.Material_ID,	
		f.MaterialName,	
		f.Specification,	
		f.DemandNum,	
		f.QuantityCount,	
		f.SProp,	
		f.BatchNum,	
		f.DeliveryWarehouse,	
		f.DeliveryPosition,	
		f.TargetWarehouse,	
		f.TargetPosition,	
		f.DeliveryWarehouseID,
		f.DeliveryPositionID,
		f.TargetWarehouseID,
		f.TargetPositionID,		
		f.TType,	
		f.OperatePersion,	
		f.OperateTime,	
		f.MAT_AUXILIARY_ID,
		f.FUnitName,
		f.UNIT_INFO_ID,
		f.MaterialCode,
		f.MAT_AUXILIARYMX_ID,
		f.IsCheck,
		f.CallMaterialDetails_ID
	</sql>
	
	<!-- 字段用于新增 -->
	<sql id="Field2">
		CallMaterial_ID,	
		Material_ID,	
		MaterialName,	
		Specification,	
		DemandNum,	
		QuantityCount,	
		SProp,	
		BatchNum,	
		DeliveryWarehouse,	
		DeliveryPosition,	
		TargetWarehouse,	
		TargetPosition,	
		DeliveryWarehouseID,
		DeliveryPositionID,
		TargetWarehouseID,
		TargetPositionID,	
		TType,	
		OperatePersion,	
		OperateTime,	
		MAT_AUXILIARY_ID,
		FUnitName,
		UNIT_INFO_ID,
		MaterialCode,
		MAT_AUXILIARYMX_ID,
		IsCheck,
		CallMaterialDetails_ID
	</sql>
	
	<!-- 字段值 -->
	<sql id="FieldValue">
		#{CallMaterial_ID},	
		#{Material_ID},	
		#{MaterialName},	
		#{Specification},	
		#{DemandNum},	
		#{QuantityCount},	
		#{SProp},	
		#{BatchNum},	
		#{DeliveryWarehouse},	
		#{DeliveryPosition},	
		#{TargetWarehouse},	
		#{TargetPosition},	
		#{DeliveryWarehouseID},
		#{DeliveryPositionID},
		#{TargetWarehouseID},
		#{TargetPositionID},	
		#{TType},	
		#{OperatePersion},	
		#{OperateTime},	
		#{MAT_AUXILIARY_ID},
		#{FUnitName},
		#{UNIT_INFO_ID},
		#{MaterialCode},
		#{MAT_AUXILIARYMX_ID},
		#{IsCheck},
		#{CallMaterialDetails_ID}
	</sql>
	
	<!-- 新增-->
	<insert id="save" parameterType="pd">
		insert into 
	<include refid="tableName"></include>
		(
	<include refid="Field2"></include>
		) values (
	<include refid="FieldValue"></include>
		)
	</insert>
	
	<!-- 删除-->
	<delete id="delete" parameterType="pd">
		delete from
		<include refid="tableName"></include>
		where 
			CallMaterialDetails_ID = #{CallMaterialDetails_ID}
	</delete>
	
		<!-- 删除-->
	<delete id="deleteByCondition" parameterType="pd">
		delete from
		<include refid="tableName"></include>
		where 
		1=1
		<if test="CallMaterial_ID != null and CallMaterial_ID != ''">
		and CallMaterial_ID = #{CallMaterial_ID}
		</if>
		<if test="TType != null and TType != ''">
		and TType = #{TType}
		</if>
		
	</delete>
	
	
	
	<!-- 修改 -->
	<update id="edit" parameterType="pd">
		update
		<include refid="tableName"></include>
		set 
			CallMaterial_ID = #{CallMaterial_ID},
			Material_ID = #{Material_ID},
			MaterialName = #{MaterialName},
			Specification = #{Specification},
			DemandNum = #{DemandNum},
			QuantityCount = #{QuantityCount},
			SProp = #{SProp},
			BatchNum = #{BatchNum},
			DeliveryWarehouse = #{DeliveryWarehouse},
			DeliveryPosition = #{DeliveryPosition},
			TargetWarehouse = #{TargetWarehouse},
			TargetPosition = #{TargetPosition},
			DeliveryWarehouseID = #{DeliveryWarehouseID},
			DeliveryPositionID = #{DeliveryPositionID},
			TargetWarehouseID = #{TargetWarehouseID},
			TargetPositionID = #{TargetPositionID},
			TType = #{TType},
			OperatePersion = #{OperatePersion},
			OperateTime = #{OperateTime},
			MAT_AUXILIARY_ID = #{MAT_AUXILIARY_ID},
			FUnitName = #{FUnitName},
			UNIT_INFO_ID = #{UNIT_INFO_ID},
			MaterialCode = #{MaterialCode},
			MAT_AUXILIARYMX_ID = #{MAT_AUXILIARYMX_ID},
			IsCheck = #{IsCheck},
			CallMaterialDetails_ID = CallMaterialDetails_ID
		where 
			CallMaterialDetails_ID = #{CallMaterialDetails_ID}
	</update>
	
	<!-- 通过ID获取数据 -->
	<select id="findById" parameterType="pd" resultType="pd">
		select 
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 
			f.CallMaterialDetails_ID = #{CallMaterialDetails_ID}
	</select>
	
	<!-- 列表 -->
	<select id="datalistPage" parameterType="page" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 1=1
		<if test="pd.KEYWORDS != null and pd.KEYWORDS != ''"><!-- 关键词检索 -->
			and
				(
				<!--	根据需求自己加检索条件
					字段1 LIKE '%'+ #{pd.KEYWORDS}+'%'
					 or 
					字段2 LIKE '%'+ #{pd.KEYWORDS}+'%' 
				-->
				)
		</if>
		<if test="pd.CallMaterial_ID != null and pd.CallMaterial_ID != ''">
		and f.CallMaterial_ID = #{pd.CallMaterial_ID}
		</if>
	</select>
	
	
	<select id="detailListByCallMaterialID" parameterType="org.yy.controller.app.AppPage"
		resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 1=1		
		<if test="pd.CallMaterial_ID != null and pd.CallMaterial_ID != ''">
			and f.CallMaterial_ID = #{pd.CallMaterial_ID}
		</if>
	</select>
	
	<!-- 列表(全部) -->
	<select id="listAll" parameterType="pd" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 1=1
		<if test="CallMaterial_ID != null and CallMaterial_ID != ''">
		and f.CallMaterial_ID = #{CallMaterial_ID}
		</if>
	</select>
	
	<!-- 批量删除 -->
	<delete id="deleteAll" parameterType="String">
		delete from
		<include refid="tableName"></include>
		where 
			CallMaterialDetails_ID in
		<foreach item="item" index="index" collection="array" open="(" separator="," close=")">
                 #{item}
		</foreach>
	</delete>
	
	<!-- yy356703572qq(彬耶) -->
</mapper>