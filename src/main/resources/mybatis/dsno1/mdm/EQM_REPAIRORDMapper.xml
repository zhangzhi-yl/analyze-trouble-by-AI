<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.yy.mapper.dsno1.mdm.EQM_REPAIRORDMapper">
	
	<!--表名 -->
	<sql id="tableName">
		MDM_EQM_REPAIRORD
	</sql>
	
	<!--数据字典表名 -->
	<sql id="dicTableName">
		SYS_DICTIONARIES
	</sql>
	
	<!-- 字段 -->
	<sql id="Field">
		f.FIDENTIFY,	
		f.FNAME,	
		f.FSPECS,	
		f.DECLARANT_NAME,	
		f.DECLARANT_PHONE,	
		f.DECLARE_DATE,	
		f.FTYPE,	
		f.FLOC,	
		f.FAULT_CODE,	
		f.FAULT_DES,	
		f.DECLARANTSATRAP_SIGNATURE,	
		f.DECLAREDEP_SIGNATURE,	
		f.URGENT_STATE,	
		f.REQUIRE_COMPLETE_TIME,	
		f.FDES,	
		f.GETORDER_NAME,	
		f.GETORDER_TIME,	
		f.COMPLETE_STATE,	
		f.COMPLETE_TIME,	
		f.GETORDER_DES,	
		f.FCREATOR,	
		f.CREATE_TIME,
		f.EQM_REPAIRORD_ID
	</sql>
	
	<!-- 字段 -->
	<sql id="Field2">
		FIDENTIFY,	
		FNAME,	
		FSPECS,	
		DECLARANT_NAME,	
		DECLARANT_PHONE,	
		DECLARE_DATE,	
		FTYPE,	
		FLOC,	
		FAULT_CODE,	
		FAULT_DES,	
		DECLARANTSATRAP_SIGNATURE,	
		DECLAREDEP_SIGNATURE,	
		URGENT_STATE,	
		REQUIRE_COMPLETE_TIME,	
		FDES,	
		GETORDER_NAME,	
		GETORDER_TIME,	
		COMPLETE_STATE,	
		COMPLETE_TIME,	
		GETORDER_DES,	
		FCREATOR,	
		CREATE_TIME,
		EQM_REPAIRORD_ID
	</sql>
	
	<!-- 字段值 -->
	<sql id="FieldValue">
		#{FIDENTIFY},	
		#{FNAME},	
		#{FSPECS},	
		#{DECLARANT_NAME},	
		#{DECLARANT_PHONE},	
		#{DECLARE_DATE},	
		#{FTYPE},	
		#{FLOC},	
		#{FAULT_CODE},	
		#{FAULT_DES},	
		#{DECLARANTSATRAP_SIGNATURE},	
		#{DECLAREDEP_SIGNATURE},	
		#{URGENT_STATE},	
		#{REQUIRE_COMPLETE_TIME},	
		#{FDES},	
		#{GETORDER_NAME},	
		#{GETORDER_TIME},	
		#{COMPLETE_STATE},	
		#{COMPLETE_TIME},	
		#{GETORDER_DES},	
		#{FCREATOR},	
		#{CREATE_TIME},
		#{EQM_REPAIRORD_ID}
	</sql>
	
	<!-- 新增-->
	<insert id="save" parameterType="pd">
		insert into 
	<include refid="tableName"></include>
		(
	<include refid="Field2"></include>
		) values (
	<include refid="FieldValue"></include>
		)
	</insert>
	
	<!-- 删除-->
	<delete id="delete" parameterType="pd">
		delete from
		<include refid="tableName"></include>
		where 
			EQM_REPAIRORD_ID = #{EQM_REPAIRORD_ID}
	</delete>
	
	<!-- 修改 -->
	<update id="edit" parameterType="pd">
		update
		<include refid="tableName"></include>
		set 
			FIDENTIFY = #{FIDENTIFY},
			FNAME = #{FNAME},
			FSPECS = #{FSPECS},
			DECLARANT_NAME = #{DECLARANT_NAME},
			DECLARANT_PHONE = #{DECLARANT_PHONE},
			DECLARE_DATE = #{DECLARE_DATE},
			FTYPE = #{FTYPE},
			FLOC = #{FLOC},
			FAULT_CODE = #{FAULT_CODE},
			FAULT_DES = #{FAULT_DES},
			DECLARANTSATRAP_SIGNATURE = #{DECLARANTSATRAP_SIGNATURE},
			DECLAREDEP_SIGNATURE = #{DECLAREDEP_SIGNATURE},
			URGENT_STATE = #{URGENT_STATE},
			REQUIRE_COMPLETE_TIME = #{REQUIRE_COMPLETE_TIME},
			FDES = #{FDES},
			GETORDER_NAME = #{GETORDER_NAME},
			GETORDER_TIME = #{GETORDER_TIME},
			COMPLETE_STATE = #{COMPLETE_STATE},
			COMPLETE_TIME = #{COMPLETE_TIME},
			GETORDER_DES = #{GETORDER_DES},
			FCREATOR = #{FCREATOR},	
		    CREATE_TIME = #{CREATE_TIME},	
			EQM_REPAIRORD_ID = EQM_REPAIRORD_ID
		where 
			EQM_REPAIRORD_ID = #{EQM_REPAIRORD_ID}
	</update>
	
	<!-- 通过ID获取数据 -->
	<select id="findById" parameterType="pd" resultType="pd">
		select 
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 
			f.EQM_REPAIRORD_ID = #{EQM_REPAIRORD_ID}
	</select>
	
	<!-- 列表 -->
	<select id="datalistPage" parameterType="page" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
		where 1=1
		<if test="pd.keywords!= null and pd.keywords != ''"><!-- 关键词检索 -->
			and
				(
				<!--	根据需求自己加检索条件
					字段1 LIKE '%'+ #{pd.keywords}+'%'
					 or 
					字段2 LIKE '%'+ #{pd.keywords}+'%' 
				-->
				)
		</if>
	</select>
	
	<!-- 列表(全部) -->
	<select id="listAll" parameterType="pd" resultType="pd">
		select
		<include refid="Field"></include>
		from 
		<include refid="tableName"></include> f
	</select>
	
	<!-- 批量删除 -->
	<delete id="deleteAll" parameterType="String">
		delete from
		<include refid="tableName"></include>
		where 
			EQM_REPAIRORD_ID in
		<foreach item="item" index="index" collection="array" open="(" separator="," close=")">
                 #{item}
		</foreach>
	</delete>
	
	<!-- YY 356703572 -->
</mapper>